@model CarDealership.UI.Models.VehicleAdminViewModel
@{
    ViewBag.Title = "Add Vehicle";
}

<h2>Add Vehicle</h2>

@Html.ValidationSummary(true, "", new { @class = "text-danger" })

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Model.MakeId, "Make", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Model.MakeId, new SelectList(Model.Makes, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Model.MakeId, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.ModelId, "Model", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.ModelId, Enumerable.Empty<SelectListItem>(), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.ModelId, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.IsUsed, "Condition", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.IsUsed, new SelectList(Model.Conditions, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.IsUsed, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.BodyStyleId, "Body Style", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.BodyStyleId, new SelectList(Model.BodyStyles, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.BodyStyleId, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Model.Year, htmlAttributes: new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Model.Year, new { @class = "form-control", @Value = "" })
            @Html.ValidationMessageFor(m => m.Model.Year, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.IsAutomatic, "Transmission", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.IsAutomatic, new SelectList(Model.Transmissions, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.IsAutomatic, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.ExteriorColorId, "Color", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.ExteriorColorId, new SelectList(Model.ExteriorColors, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.ExteriorColorId, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.InteriorColorId, "Interior", htmlAttributes: new { @class = "control-label" })
            @Html.DropDownListFor(m => m.Vehicle.InteriorColorId, new SelectList(Model.InteriorColors, "Value", "Text"), new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.InteriorColorId, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.Mileage, htmlAttributes: new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Vehicle.Mileage, new { @class = "form-control", @Value = "" })
            @Html.ValidationMessageFor(m => m.Vehicle.Mileage, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.VIN, "VIN #", htmlAttributes: new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Vehicle.VIN, new { @class = "form-control", @Value = "" })
            @Html.ValidationMessageFor(m => m.Vehicle.VIN, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.MSRP, htmlAttributes: new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Vehicle.MSRP, new { @class = "form-control", @Value = "" })
            @Html.ValidationMessageFor(m => m.Vehicle.MSRP, "", new { @class = "text-danger" })
        </div>
        <div class="form-group col-xs-12 col-md-4">
            @Html.LabelFor(m => m.Vehicle.SalePrice, "Sale Price", htmlAttributes: new { @class = "control-label" })
            @Html.TextBoxFor(m => m.Vehicle.SalePrice, new { @class = "form-control", @Value = "" })
            @Html.ValidationMessageFor(m => m.Vehicle.SalePrice, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-12 col-md-8">
            @Html.LabelFor(m => m.Vehicle.Description, htmlAttributes: new { @class = "control-label" })
            @Html.TextAreaFor(m => m.Vehicle.Description, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Vehicle.Description, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="row">
        <div class="form-group col-xs-8 col-md-4">
            <div class="form-group">
                <label>Picture</label>
                <input id="ImageUpload" name="ImageUpload" type="file" class="form-control" />
            </div>
        </div>
    </div>
    <div class="form-group">
        <input type="submit" value="Save" class="btn btn-custom btn-lg" />
        @Html.ActionLink("Cancel", "Vehicles", routeValues: null, htmlAttributes: new { @class = "btn btn-default btn-lg" })
    </div>
}

@section Scripts {
    <script src="~/Scripts/Logic.js"></script>
    <script>
        $(document).ready(function () {
            getModelsByMake($('#Model_MakeId').val());

            $('#Model_MakeId').on('change', function () {
                getModelsByMake($(this).val());
            });
        });
    </script>
}